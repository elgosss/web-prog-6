<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Задание 5</title>
    </head>
    <body>
        <div id="main_5">
            <script>
                "use strict";
                class ssd_drive {
                    constructor(volume, intface, chips, controller) {
                        this.volume = volume;
                        this.intface = intface;
                        this["type of Flash chips"] = chips;
                        this.controller = controller;
                    }
                    info() {
                        document.write(`<p><b>SSD диск</b><br> Объем: ${this.volume}<br> Интерфейс: ${this.intface}<br> Тип микросхем Flash: ${this["type of Flash chips"]}<br>
                            Контроллер: ${this.controller}</p>`);
                    }
                    get Volume() { return `Объем: ${this.volume}`; }
                    set Volume(val) { this.volume = val; }
                    get Intface() { return `Интерфейс: ${this.intface}`; }
                    set Intface(val) { this.intface = val; }
                    get Chips() { return `Тип микросхем Flash: ${this["type of Flash chips"]}`; }
                    set Chips(val) { this["type of Flash chips"] = val; }
                    get Controller() { return `Контроллер: ${this.controller}`; }
                    set Controller(val) { this.controller = val; }
                }

                class ssd extends ssd_drive {
                    constructor(volume, intface, chips, controller, date, cost) {
                        super(volume, intface, chips, controller);
                        this["date of market launch"] = date;
                        this.cost = cost;
                    }
                    info() {
                        super.info();
                        document.write(`<p>Дата выхода на рынок: ${this["date of market launch"]}<br> Стоимость: ${this.cost}</p>`);
                    }
                    get Volume() { return super.Volume; }
                    set Volume(val) { super.Volume = val; }
                    get Intface() { return super.Intface; }
                    set Intface(val) { super.Intface = val; }
                    get Chips() { return super.Chips; }
                    set Chips(val) { super.Chips = val; }
                    get Controller() { return super.Controller; }
                    set Controller(val) { super.Controller = val; }
                    get Date() { return `Дата выхода на рынок: ${this["date of market launch"]}`; }
                    set Date(val) { this["date of market launch"] = val; }
                    get Cost() { return `Стоимость: ${this.cost}`; }
                    set Cost(val) { this.cost = val; }
                }

                let arrObjects = [];
                let n = 5;
                arrObjects[0] = new ssd('240 ГБ', 'SATA 3', '3D TLC NAND', 'Marvell 88NV1120', '20.04.2019', 2799);
                arrObjects[1] = new ssd('1 ТБ', 'USB 3.0', '3D TLC NAND', 'Phison', '17.04.2020', 5990);
                arrObjects[2] = new ssd('1 ТБ', 'M.2 PCI-E 4.0 x4', '3D TLC NAND', 'Samsung Phoenix', '08.10.2022', 12590);
                arrObjects[3] = new ssd('1 ТБ', 'M.2 PCI-E 3.0 x4', '3D V-NAND', 'Samsung Pablo', '09.04.2021', 11390);
                arrObjects[4] = new ssd('256 ГБ', 'M.2 PCI-E 3.0 x4', '3D TLC NAND', 'Silicon Motion SM2263XT', '24.07.2021', 4299);
                for (let i = 0; i < n; i++) {
                    document.write(`<br>Объект №${i + 1}`);
                    arrObjects[i].info();
                }
                let maxIndex = arrObjects.reduce((highIndex, item, index, array) => {
                    let max = Math.max(item.cost, array[highIndex].cost);
                    if (max == item.cost) {
                        return index;
                    }
                    return highIndex;
                }, 0);
                let minIndex = arrObjects.reduce((highIndex, item, index, array) => {
                    let min = Math.min(item.cost, array[highIndex].cost);
                    if (min == item.cost) {
                        return index;
                    }
                    return highIndex;
                }, 0);
                document.write('<p><b>Результаты:</b></p>');
                document.write(`<p>C максимальной стоимостью объект №${maxIndex + 1}<br> С минимальной стоимостью объект №${minIndex + 1}<br>`);
                let sumArr = arrObjects.reduce((sum, item) => sum + item.cost, 0);
                document.write(`Суммарная стоимость всех объектов: ${sumArr}<br>`);
                let averageArr = sumArr / n;
                document.write(`Средняя стоимость объекта: ${averageArr}<br>`);
                let countArr = arrObjects.reduce((count, item) => {
                    if (item.cost > averageArr) {
                        count++;
                        return count;
                    }
                    return count;
                }, 0);
                document.write(`Количество объектов со стоимостью выше средней: ${countArr}</p>`);
            </script>
        </div>
    </body>
</html>